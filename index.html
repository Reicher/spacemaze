<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="format-detection" content="telephone=no"/>
	<meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width,height=device-height"/>

	<script type="text/javascript" src="cordova.js"></script>
	<script type="text/javascript">
		// The watch id references the current `watchAcceleration`
		var watchID = null;

		// Wait for device API libraries to load
		//
		document.addEventListener( 'deviceready', onDeviceReady, false );

		// device APIs are available
		//
		function onDeviceReady() {
			var element = document.getElementById( 'accelerometer' );
			element.innerHTML = 'Waiting for accelerometer...';

			startWatch();
		}

		// Start watching the acceleration
		//
		function startWatch() {

			// Update acceleration every 0.1 seconds
			var options = { frequency: 100 };

			watchID = navigator.accelerometer.watchAcceleration(
				onSuccess,
				onError,
				options
			);
		}

		// Stop watching the acceleration
		//
		function stopWatch() {
			if ( watchID ) {
				navigator.accelerometer.clearWatch( watchID );
				watchID = null;
			}
		}

		// onSuccess: Get a snapshot of the current acceleration
		//
		function onSuccess( acceleration ) {
			var element = document.getElementById( 'accelerometer' );
			element.innerHTML = String()
				+ 'Acceleration X: ' + acceleration.x         + '<br/>'
				+ 'Acceleration Y: ' + acceleration.y         + '<br/>'
				+ 'Acceleration Z: ' + acceleration.z         + '<br/>'
				+ 'Timestamp: '      + acceleration.timestamp + '<br/>';
		}

		// onError: Failed to get the acceleration
		//
		function onError() {
			alert( 'onError!' );
		}
	</script>
</head>
<body>
	<div id="accelerometer"></div>
</body>
</html>